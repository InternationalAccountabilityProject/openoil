<!doctype html>
<html>
<head>
  <title>Open Oil Data Framework</title>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <script src="../components/platform/platform.js"></script>
  <link rel="import" href="components/font-roboto/roboto.html">
  <link rel="import" href="components/core-scaffold/core-scaffold.html">
  <link rel="import" href="components/core-header-panel/core-header-panel.html">
  <link rel="import" href="components/core-field/core-field.html">
  <link rel="import" href="components/core-icon/core-icon.html">
  <link rel="import" href="components/core-item/core-item.html">
  <link rel="import" href="components/core-menu/core-menu.html">
  <link rel="import" href="components/core-menu/core-submenu.html">
  <link rel="import" href="components/core-menu-button/core-menu-button.html">
  <link rel="import" href="components/core-icon-button/core-icon-button.html">
  <link rel="import" href="components/core-toolbar/core-toolbar.html">
  <link rel="import" href="components/core-drawer-panel/core-drawer-panel.html">
  <link rel="import" href="components/paper-tabs/paper-tabs.html"> 
  <link rel="import" href="components/paper-slider/paper-slider.html"> 
  <link rel="import" href="elements/iilab-graph.html"> 
  <link rel="import" href="elements/iilab-controls.html"> 
  <link rel="import" href="elements/iilab-search.html"> 
  <style shim-shadowdom>
    core-scaffold core-toolbar {
      background: #EEE;
      color: black;
    }
    core-scaffold [main] core-header-panel {
      background: #FFF;
      color: black;
    }
  </style>
  <style>
  html,body {
    height: 100%;
    margin: 0;
    font-family: 'RobotoDraft', sans-serif;
  }
  core-header-panel {
    height: 100%;
    overflow: auto;
    -webkit-overflow-scrolling: touch; 
  }

/*  polyfill-unscoped-rule {
    content: 'core-scaffold core-toolbar';
    background: #EEE;
    color: black;
  }

  polyfill-unscoped-rule {
    content: 'core-scaffold core-header-panel';
    background: #FFF;
    color: black;
  } */

  core-scaffold::shadow core-toolbar {
    background: #EEE;
    color: black;
  }
  core-scaffold::shadow core-header-panel {
    background: #FFF;
    color: black;
  }
  paper-tabs {
    width: 100%;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .container {
    width: 80%;
    margin: 50px auto;
  }
  @media (min-width: 481px) {
    paper-tabs {
      width: 200px;
    }
    .container {
      width: 400px;
    }
  }
  :host {
    position: absolute;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    color: rgb(0, 0, 0);
  }
  #core_toolbar {
    right: 0px;
    color: rgb(0, 0, 0);
    fill: rgb(255, 255, 255);
    background-color: rgb(235, 235, 235);
  }
  #core_drawer_panel {
    position: absolute;
    top: 0px;
    right: 0px;
    bottom: 0px;
    left: 0px;
  }
  #core_icon {
    height: 24px;
    width: 24px;
  }
  #core_card {
    width: 300px;
    height: 300px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    border-bottom-right-radius: 2px;
    border-bottom-left-radius: 2px;
    box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
    left: 20px;
    top: 80px;
    position: absolute;
    background-color: rgb(255, 255, 255);
  }

  body.loading #loading {
    display: block;
    position: fixed;
    top: calc(50% - 18px);
    left: calc(50% - 200px);
    font-size: 36px;
    color: white;
    -webkit-animation: pulsate 2s ease-in-out;
    -webkit-animation-iteration-count: infinite;
    width: 400px;
    text-align: center;
    z-index: 10;
  }
  @keyframes pulsate {
    0% {
      transform: scale(1.0, 1.0);
      opacity: 0.1;
    }
    50% {
      transform: scale(1.1, 1.1);
      opacity: 1;
    }
    100% {
      transform: scale(1.0, 1.0);
      opacity: 0;
    }
  }
  @-webkit-keyframes pulsate {
    0% {
      -webkit-transform: scale(1.0, 1.0);
      opacity: 0.1;
    }
    50% {
      -webkit-transform: scale(1.1, 1.1);
      opacity: 1;
    }
    100% {
      -webkit-transform: scale(1.0, 1.0);
      opacity: 0;
    }
  }
  </style>
</head>

<body loading unresolved touch-action="auto">

    <core-scaffold id="core_scaffold">
      <core-header-panel mode="seamed" id="core_header_panel" navigation flex>
        <core-toolbar id="core_toolbar">
          <core-icon-button icon="menu" id="core_icon_button"></core-icon-button>
        </core-toolbar>
        <core-menu valueattr="label" id="core_menu" theme="core-light-theme" selected="0" vertical layout>
          <core-submenu icon="bookmark" label="Data Sets">
            <core-item label="BP" icon="check" id="bp_item"></core-item>
            <core-item label="Nigeria" icon="check" id="nigeria_item"></core-item>
          </core-submenu> 
          <core-submenu icon="settings" label="Settings">
            <iilab-controls id="iilab_controls" horizontal center layout></iilab-controls>
          </core-submenu> 
        </core-menu>
      </core-header-panel>
      <div id="div" tool horizontal layout center wrap flex>
        <div id="title" flex>Open&nbsp;Oil</div>
        <core-field id="core_field" icon="search">
          <core-icon icon="search" id="core_icon"></core-icon>
            <iilab-search strings="{{strings_exchange}}" id="iilab_search"></iilab-search>
        </core-field>
        <core-menu-button icon="more-vert" halign="right">
          <core-item icon="visibility" label="About OpenOil"></core-item>
          <core-item icon="extension" label="Contribute"></core-item>
          <core-item icon="info" label="Sources"></core-item>
        </core-menu-button>      
      </div>
<!--      <iilab-graph id="iilab_graph" search="{{searchtext}}" strings="{{strings_exchange}}" url="http://db.openoil.iilab.org/db/data/"></iilab-graph>-->
      <iilab-graph id="iilab_graph" search="{{searchtext}}" strings="{{strings_exchange}}" url="http://db.localhost:7474/db/data/"></iilab-graph>
      <!--<core-card id="core_card" layout vertical></core-card>-->
    </core-scaffold>
</body>
<script>
window.addEventListener('polymer-ready', function() {
  document.body.classList.remove('loading');

  var iilab_graph = document.querySelector("#iilab_graph")
  iilab_search.strings = "We want strings!"
  console.log(iilab_search.strings)
}

</script>
</html>
